# BitrixTimeman
Для вебхука нужно выдать следующие разрешения:
- user
- timeman
- crm
- calendar

Ответ с ошибкой 
400 код
```json
{
	"status": false,
	"error": String // Описание ошибки
}
```

Успешно: код 200
```json
{
	"status":	true,
	"data": [
		{
			"id": Int, 								// ID рабочего графика
			"name": String, 					// Название рабочего графика
			"type": String, 					// Тип рабочего графика 
			"start_day": Int, 				// Время начала рабочего дня, сек
			"finish_day": Int, 				// Время окончания рабочего дня, сек
			"work_days": String, 			// Рабочие дни недели графика. Например: "12345"
			"max_offset_start": Int, 	// Маскимальное опоздание, сек. Если не установлено, то -1
			"max_offset_end": Int, 		// На сколько раньше можно завершить рабочий день, сек. Если не установлено, то -1
			"min_day_duration": Int, 	// Минимальная протяжённость рабочего дня
			"assigments_users": [
				0: Int, 								// Массив ID пользователей, которые привязаны к данному графику
			], 
			"users_report": [ 								// массив отчётов по каждому пользователю рабочего графика
				146725: { 											// Ключ массива ID пользователя
					"user_id":	Int, 							// ID Пользователя
					"user_name": String, 					// ФИО пользователя
					"report": [ 									// Массив отчётов об отработанных днях
						1740949200: { 							//Ключ массива - дата отчёта в формате timestamp
							"day_start": Datetime, 		// Начало рабочего дня в формате АТОМ: "2025-03-03T07:45:39+03:00"
							"day_finish": Datetime, 	// Окончание рабочего дня в формате АТОМ: "2025-03-03T14:00:55+03:00"
							"workday_complete":	Bool, // флаг окончания дня, завершил ли пользователь рабочий день.
							"diff_time": Int, 				// Протяженность рабочего дня, сек
						}
					],
					absences: [	//Массив отсутствий из смарт процесса "График отсутствий"
						{
							"day_start": Datetime, 		// Начало отсутствия в формате АТОМ: "2025-03-03T07:45:39+03:00"
							"day_finish": Datetime, 	// Окончание отсутствия в формате АТОМ: "2025-03-03T14:00:55+03:00"
						        "user_id": Int,			// ID пользователя
						        "absenсe_id": Int,		// ID Отсутствия
						        "absenсe_name": String		// Название отсутствия. Например: "Учебный отпуск"
						}
					]
				}
			]
		}
	]
}
```
